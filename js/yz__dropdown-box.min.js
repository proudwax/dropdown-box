"use strict";function throttle(e,i){function t(){return r?(n=arguments,void(o=this)):(e.apply(this,arguments),r=!0,void setTimeout(function(){r=!1,n&&(t.apply(o,n),n=o=null)},i))}var n,o,r=!1;return t}function getElemPosition(e,i){for(var t=0,n=i.previousElementSibling,o=0;o<e.length&&n;o++)n=n.previousElementSibling,t+=1;return t}function getNotificationPosition(e,i,t){var n=e%i?e%i:i,o=e+(i-n)-1;return t>o?o:t-1}function getCoutInRow(e){return 1023>e&&e>=668?2:667>e?1:3}function renderNotification(e){var i=document.createElement("div");return i.className="service__notification",i.innerHTML=e,i.querySelector(".service__bnt").addEventListener("click",function(e){e.preventDefault(),$(function(){$("#modal-call").bPopup({modalClose:!0})})}),i}function removeNotification(){var e=document.querySelector(".service__notification");null!=e&&e.remove()}function dropdownBox(e,i,t){if(i.className.indexOf("service__item_active")>-1)removeNotification(),i.classList.remove("service__item_active");else{removeNotification(),document.querySelector(".service__item.service__item_active")&&document.querySelector(".service__item.service__item_active").classList.remove("service__item_active"),i.classList.add("service__item_active");var n=getElemPosition(e,i),o=getNotificationPosition(n,t,ya_dropdown.countList),r=renderNotification(i.querySelector(".service__info").innerHTML),c=e[0].offsetParent;c.insertBefore(r,e.item(o).nextElementSibling)}}var ya_dropdown={};ya_dropdown.listItems=document.querySelectorAll(".service__item"),ya_dropdown.countList=ya_dropdown.listItems.length,ya_dropdown.windowWidth=window.innerWidth,ya_dropdown.listItems.forEach(function(e,i){e.addEventListener("click",function(i){dropdownBox(ya_dropdown.listItems,e,getCoutInRow(window.innerWidth))})}),throttle(window.addEventListener("resize",function(e){ya_dropdown.windowWidth!=window.innerWidth&&(removeNotification(),document.querySelector(".service__item.service__item_active")&&document.querySelector(".service__item.service__item_active").classList.remove("service__item_active"),ya_dropdown.listItems.forEach(function(e,i){e.addEventListener("click",function(i){dropdownBox(e,getCoutInRow(window.innerWidth)),e.addEventListener("click",function(e){removeNotification()})})}),ya_dropdown.windowWidth=window.innerWidth)}),300);
