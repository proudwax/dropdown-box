"use strict";function throttle(e,t){function i(){return r?(o=arguments,void(n=this)):(e.apply(this,arguments),r=!0,void setTimeout(function(){r=!1,o&&(i.apply(n,o),o=n=null)},t))}var o,n,r=!1;return i}function getElemPosition(e,t){for(var i=0,o=t.previousElementSibling,n=0;n<e.length&&o;n++)o=o.previousElementSibling,i+=1;return i}function getNotificationPosition(e,t,i){var o=e%t?e%t:t,n=e+(t-o)-1;return i>n?n:i-1}function getCoutInRow(e){return 1023>e&&e>=668?2:667>e?1:3}function renderNotification(e){var t=document.createElement("div");return t.className="service__notification",t.innerHTML=e,t.querySelector(".service__bnt").addEventListener("click",function(e){e.preventDefault(),$(function(){$("#modal-call").bPopup({modalClose:!0})})}),t}function removeNotification(){var e=document.querySelector(".service__notification");null!=e&&e.remove()}function dropdownBox(e,t,i){if(t.className.indexOf("service__item_active")>-1)removeNotification(),t.classList.remove("service__item_active");else{removeNotification(),document.querySelector(".service__item.service__item_active")&&document.querySelector(".service__item.service__item_active").classList.remove("service__item_active"),t.classList.add("service__item_active");var o=getElemPosition(e,t),n=getNotificationPosition(o,i,ya_dropdown.countList),r=renderNotification(t.querySelector(".service__info").innerHTML),c=e[0].offsetParent;c.insertBefore(r,e.item(n).nextElementSibling)}}var ya_dropdown={};ya_dropdown.listItems=document.querySelectorAll(".service__item"),ya_dropdown.countList=ya_dropdown.listItems.length,ya_dropdown.windowWidth=window.innerWidth,ya_dropdown.listItems.forEach(function(e,t){e.addEventListener("click",function(t){dropdownBox(ya_dropdown.listItems,e,getCoutInRow(window.innerWidth))})}),throttle(window.addEventListener("resize load",function(e){ya_dropdown.windowWidth!=window.innerWidth&&(removeNotification(),document.querySelector(".service__item.service__item_active")&&document.querySelector(".service__item.service__item_active").classList.remove("service__item_active"),ya_dropdown.listItems.forEach(function(e,t){e.removeEventListener("click",function(t){dropdownBox(ya_dropdown.listItems,e,getCoutInRow(window.innerWidth))}),e.addEventListener("click",function(t){dropdownBox(ya_dropdown.listItems,e,getCoutInRow(window.innerWidth))})}),ya_dropdown.windowWidth=window.innerWidth)}),300);
